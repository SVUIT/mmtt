name: Dead Links Check

on:  
    schedule:
     # - cron: 0 17 * * 3   # 12AM GMT+7 every Thursday
    repository_dispatch:
      types: [check-link]  
    workflow_dispatch:
jobs:
    check: 
      runs-on: ubuntu-latest
      #timeout-minutes: 10
      steps:
      - name: Checkout
        uses: actions/checkout@v3

         - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: '3.x'

      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install pyyaml requests PyGithub

      - name: Check dead links
         run: |
          python check_urls.py
